<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:b="http://bootsfaces.net/ui">
    <ui:composition template="layout.xhtml">

        <ui:define name="content">
            <h:form id="bookForm" prependId="false">
            <b:panel title="Create a New Book" collapsible="false">
                <b:panelGrid colSpans="2,10" style="margin: 20px;">
                    <h:outputLabel value="Title : " for="title"/>
                    <b:inputText tooltip="look at me!!!" id="title" value="#{book.title}" size="">
                        <f:passThroughAttribute name="placeholder" value="Enter Title"/>
                    </b:inputText>
                    <h:outputLabel value="Price : " for="price"/>
                    <b:inputText tooltip="look at me!!!" id="price" value="#{book.price}">
                        <f:passThroughAttribute name="placeholder" value="Enter Price"/>
                        <f:passThroughAttribute name="type" value="number"/>
                    </b:inputText>
                    <h:outputLabel value="Description : " for="description"/>
                    <p:inputTextarea styleClass="form-control" id="description" value="#{book.description}" cols="16" rows="3" label="Description">
                        <f:passThroughAttribute name="placeholder" value="  Enter Description"/>
                    </p:inputTextarea>
                    <h:outputLabel value="Number of pages : " for="nbop"/>
                    <b:inputText tooltip="look at me!!!" id="nbop" value="#{book.nbofpage}">
                        <f:passThroughAttribute name="placeholder" value="Enter Pages"/>
                    </b:inputText>
                    <h:outputLabel value="Illustrations : " for="ill"/>
                    <b:selectBooleanCheckbox id="ill" value="#{book.illustrations}"/>
                </b:panelGrid>
                <b:commandButton value="Create a book" tooltip="Press me!!!" update="booklist,title,price,description,nbop,ill" actionListener="#{model.doCreateBook()}" look="primary"/>
			</b:panel>
                <br/>
                <h3>List of books</h3>
                <p:dataTable id="booklist" value="#{model.findAllBooks()}" var="bk" border="1" >
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="Title"/>
                        </f:facet>
                        <p:link outcome="viewBook.xhtml?id=#{bk.id}" value="#{bk.title}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="Price"/>
                        </f:facet>
                        <h:outputText value="#{bk.price}"/>
                    </p:column>
                </p:dataTable>
            </h:form>
        </ui:define>

    </ui:composition>
</html>
